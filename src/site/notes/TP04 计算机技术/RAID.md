---
{"dg-publish":true,"permalink":"/TP04 计算机技术/RAID/","dgPassFrontmatter":true,"created":"2024-06-11T09:16:05.947+08:00","updated":"2024-06-11T09:51:14.703+08:00"}
---

RAID（独立磁盘冗余阵列）是一种将多个磁盘组合在一起以实现高性能、高可靠性的存储技术。以下是RAID 0到RAID 7的基本概述：
# RAID0

- **原理**：数据被分割成块（条带）并分布在多个磁盘上。每个磁盘仅存储一部分数据，这增加了并行处理能力，从而提高了读写速度。
- **优点**：提供极高的读写速度，容量利用率为所有磁盘容量之和（无冗余）。
- **缺点**：没有数据冗余，任何一块磁盘故障都会导致所有数据丢失。

**数据随机写入两块磁盘，速度双倍，容量双倍。没有校验，坏一块数据全挂。**
# RAID1

- **原理**：数据完全镜像到两个或更多的磁盘上，每个磁盘包含相同的数据副本。
- **优点**：提供了完整的数据冗余，单个磁盘故障不影响数据可用性。
- **缺点**：容量利用率低，仅为单个磁盘容量，因为数据被完全复制。

**数据同时写入两块磁盘，两块磁盘互为镜像。**
# RAID2（不常用）

- **原理**：较少使用，主要通过位级条带化和专用的海明码校验盘来提供错误校正能力。
- **特点**：由于其复杂性和成本，实际应用中不常见。
# RAID3（不常用）

- **原理**：数据按块进行条带化存储，并有一个专用的奇偶校验盘用于错误检测和恢复。
- **优点**：能够恢复单个磁盘故障，适合大量连续数据读取。
- **缺点**：奇偶校验盘成为瓶颈，不适合随机写操作。
# RAID4（不常用）

- **原理**：类似于RAID 3，但块级条带化应用于所有数据盘，单独一个磁盘作为奇偶校验盘。
- **缺点**：同样受到奇偶校验盘的写入瓶颈限制。
# RAID5

- **原理**：数据和奇偶校验信息跨所有磁盘条带化分布，没有专用的奇偶校验盘。
- **优点**：提供数据冗余，同时保持较高的读写性能，适用于需要数据保护和较高性能的应用。
- **缺点**：奇偶校验计算会占用一些性能，且重建过程在大型阵列中可能较慢。

**至少 3 块硬盘组成阵列。没有专用的校验盘，所有校验信息随机存入 3 块硬盘中的一块，3 块硬盘互为校验盘。可以允许最多坏一块硬盘。**
# RAID6

- **原理**：与RAID 5类似，但具有两份奇偶校验信息，能容忍两块磁盘同时故障。
- **优点**：提供更高的容错能力。
- **缺点**：相比RAID 5，会占用更多存储空间用于奇偶校验。

**由 RAID5 发展，有两份校验信息。可以允许坏两个硬盘。**
# RAID7（不常用）

- **原理**：RAID 7是一个不太常见的术语，有时指代具有高级缓存管理和命令分组技术的高性能RAID系统，强调优化I/O性能和灵活性。
- **特点**：具体实现可变，通常包括高速缓存、命令重构以及优化的硬件控制逻辑，以提高整体系统效率。

请注意，RAID 7的定义和实现细节在不同的文献和厂商中可能有所不同，且不如RAID 0-6那样标准化和广泛理解。
# RAID Z

RAID Z 是ZFS文件系统中引入的一种先进的磁盘阵列技术，它并不是标准RAID级别之一（0-7），而是作为一种替代方案，特别是为了改进传统RAID 5和RAID 6的一些局限性。RAID Z系列主要包括RAID Z1、RAID Z2和RAID Z3。

RAID Z系列的优势在于其先进的数据完整性保护机制、灵活的容量调整能力（**添加或移除磁盘不需要重新格式化整个阵列**）以及高效的读写性能，特别是在处理大数据块和随机写入操作时。此外，ZFS的透明 checksumming 和自我修复功能也为数据完整性提供了额外保障。
## RAID Z1（RAID 5）

- 类似于RAID 5，它使用分布式奇偶校验来实现单磁盘容错能力。数据和校验信息分布在所有磁盘上，如果任何一个磁盘发生故障，都可以根据其他磁盘上的信息重建丢失的数据。
- 改进了数据完整性检查机制，减少“写洞”（write hole）问题，这是RAID 5的一个潜在缺陷。
## RAID Z2（RAID 6）

- 类似于RAID 6，设计用于容忍两个磁盘同时故障。它使用双重奇偶校验，进一步增强了数据的冗余度和安全性。
- 即便在重建过程中再有一个磁盘故障，也能保证数据的安全。
## RAID Z3

- 这是最高的RAID Z级别，提供了三重奇偶校验，能够容忍同时三个磁盘故障，这对于非常大型的存储池或者高度关键的数据来说是一个重要的安全特性。
- 相比RAID Z1和Z2，RAID Z3在存储效率上有所降低，因为它需要更多的空间来存储额外的奇偶校验信息。
# 聚合 RAID
## RAID 10

RAID 10是RAID 1（镜像）和RAID 0（条带化）的组合，兼具速度和冗余性。其工作原理是先在多对驱动器上创建镜像（如RAID 1），然后将这些镜像条带化组合在一起（如RAID 0）。

- **优点：**
    - 高可靠性：可以承受多块硬盘同时故障（具体取决于镜像对的数量）。
    - 高性能：读取速度快，因为数据可以从任何镜像对中的条带读取；写入性能也较好，因为数据只需写入一个镜像对即可。
    - 数据重建速度快，相较于RAID 5或6，在磁盘故障时对系统性能的影响较小。

**先组 RAID 1，在由多个 RAID1 阵列组 RAID0。**
## RAID 50

**RAID 50是RAID 5和RAID 0的组合**，旨在结合RAID 5的数据冗余特性和RAID 0的高速读写能力。

- **结构：**
    - 先创建多个RAID 5阵列（每个阵列包含数据磁盘和一个奇偶校验磁盘），然后将这些RAID 5阵列进行条带化（RAID 0方式）。
- **优点：**
    - 提供了比RAID 5更高的容错能力，因为数据分布在多个RAID 5段中，即使在一个RAID 5段内发生故障，其他段仍能继续工作。
    - 读取性能优异，尤其是在大数据块传输时，因为数据可以并行从多个RAID 5段读取。
    - 写入性能优于RAID 5，因为奇偶校验负载分散在多个RAID 5段之间，减少了单一校验盘的压力。
- **缺点：**
    - 相较于RAID 10，构建成本和复杂度更高，因为需要更多的磁盘。
    - 在某些情况下，尤其是小文件写入，性能可能因奇偶校验计算而受影响。
# UNRAID

UnRAID是一款由加拿大公司Lime Technology开发的独特的NAS（网络附加存储）操作系统。

**上述 RAID 方案基本都存在容量扩展困难问题。UNRAID 使用的不是传统的磁盘阵列，可以很方便的对阵列容量进行扩容。并且可以至多使用 2 个专用校验盘，提供最多可以坏 2 块硬盘的冗余能力。**
  

>参考：
>[什么是磁盘阵列？15种RAID优缺点详解 (RAID5 RAID6 RAID10 RAIDZ SHR UNRAID)\_哔哩哔哩\_bilibili](https://www.bilibili.com/video/BV1vA411W7yU/?spm_id_from=333.337.search-card.all.click&vd_source=1bfe469a264a2b5f885f412c3b094c96)
