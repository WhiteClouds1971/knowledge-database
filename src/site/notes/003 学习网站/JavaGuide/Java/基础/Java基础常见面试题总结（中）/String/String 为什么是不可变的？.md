---
{"dg-publish":true,"permalink":"/003/java-guide/java//java/string/string/","dgPassFrontmatter":true,"created":"2024-05-06T10:13:05.855+08:00","updated":"2024-06-01T10:47:58.951+08:00"}
---

`String`Â ç±»ä¸­ä½¿ç”¨Â `final`Â å…³é”®å­—ä¿®é¥°å­—ç¬¦æ•°ç»„æ¥ä¿å­˜å­—ç¬¦ä¸²ï¼Œ~~æ‰€ä»¥ `String`Â å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚~~

```java
public final class String implements java.io.Serializable, Comparable<String>, CharSequence {
	private final char value[];
	//...
}	
```

ğŸ› ä¿®æ­£ï¼š

æˆ‘ä»¬çŸ¥é“è¢«Â `final`Â å…³é”®å­—ä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼Œä¿®é¥°çš„å˜é‡æ˜¯åŸºæœ¬æ•°æ®ç±»å‹åˆ™å€¼ä¸èƒ½æ”¹å˜ï¼Œä¿®é¥°çš„å˜é‡æ˜¯å¼•ç”¨ç±»å‹åˆ™ä¸èƒ½å†æŒ‡å‘å…¶ä»–å¯¹è±¡ã€‚å› æ­¤ï¼Œ`final`Â å…³é”®å­—ä¿®é¥°çš„æ•°ç»„ä¿å­˜å­—ç¬¦ä¸²å¹¶ä¸æ˜¯Â `String` ä¸å¯å˜çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºè¿™ä¸ªæ•°ç»„ä¿å­˜çš„å­—ç¬¦ä¸²æ˜¯å¯å˜çš„ï¼ˆ`final`Â ä¿®é¥°å¼•ç”¨ç±»å‹å˜é‡çš„æƒ…å†µï¼‰ã€‚
{ #80c6dd}


`String`Â çœŸæ­£ä¸å¯å˜æœ‰ä¸‹é¢å‡ ç‚¹åŸå› ï¼š
{ #9528da}


1. ä¿å­˜å­—ç¬¦ä¸²çš„æ•°ç»„è¢«Â `final`Â ä¿®é¥°ä¸”ä¸ºç§æœ‰çš„ï¼Œå¹¶ä¸”`String`Â ç±»æ²¡æœ‰æä¾›/æš´éœ²ä¿®æ”¹è¿™ä¸ªå­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚
2. `String`Â ç±»è¢«Â `final`Â ä¿®é¥°å¯¼è‡´å…¶ä¸èƒ½è¢«ç»§æ‰¿ï¼Œè¿›è€Œé¿å…äº†å­ç±»ç ´åÂ `String`Â ä¸å¯å˜ã€‚

è¡¥å……ï¼š

åœ¨ Java 9 ä¹‹åï¼Œ`String`ã€`StringBuilder`Â ä¸Â `StringBuffer`Â çš„å®ç°æ”¹ç”¨Â `byte`Â æ•°ç»„å­˜å‚¨å­—ç¬¦ä¸²ã€‚

```java
public final class String implements java.io.Serializable,Comparable<String>, CharSequence {
	    // @Stable æ³¨è§£è¡¨ç¤ºå˜é‡æœ€å¤šè¢«ä¿®æ”¹ä¸€æ¬¡ï¼Œç§°ä¸ºâ€œç¨³å®šçš„â€ã€‚
	    @Stable
	    private final byte[] value;
}
	
abstract class AbstractStringBuilder implements Appendable, CharSequence {
	    byte[] value;	
}
```

**Java 9 ä¸ºä½•è¦å°†Â `String`Â çš„åº•å±‚å®ç°ç”±Â `char[]`Â æ”¹æˆäº†Â `byte[]`Â ?**
{ #f5d754}


> æ–°ç‰ˆçš„ String å…¶å®æ”¯æŒä¸¤ä¸ªç¼–ç æ–¹æ¡ˆï¼šLatin-1 å’Œ UTF-16ã€‚å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ±‰å­—æ²¡æœ‰è¶…è¿‡ Latin-1 å¯è¡¨ç¤ºèŒƒå›´å†…çš„å­—ç¬¦ï¼Œé‚£å°±ä¼šä½¿ç”¨ Latin-1 ä½œä¸ºç¼–ç æ–¹æ¡ˆã€‚Latin-1 ç¼–ç æ–¹æ¡ˆä¸‹ï¼Œ`byte`Â å ä¸€ä¸ªå­—èŠ‚(8 ä½)ï¼Œ`char`Â å ç”¨ 2 ä¸ªå­—èŠ‚ï¼ˆ16ï¼‰ï¼Œ`byte`Â ç›¸è¾ƒÂ `char`Â èŠ‚çœä¸€åŠçš„å†…å­˜ç©ºé—´ã€‚
> 
> JDK å®˜æ–¹å°±è¯´äº†ç»å¤§éƒ¨åˆ†å­—ç¬¦ä¸²å¯¹è±¡åªåŒ…å« Latin-1 å¯è¡¨ç¤ºçš„å­—ç¬¦ã€‚
> 
> ![Pasted image 20240506102848.png](/img/user/$/$Sys999%20Attachment/Pasted%20image%2020240506102848.png)
>
> å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ±‰å­—è¶…è¿‡ Latin-1 å¯è¡¨ç¤ºèŒƒå›´å†…çš„å­—ç¬¦ï¼Œ`byte`Â å’ŒÂ `char`Â æ‰€å ç”¨çš„ç©ºé—´æ˜¯ä¸€æ ·çš„ã€‚
> 
> è¿™æ˜¯å®˜æ–¹çš„ä»‹ç»ï¼š[https://openjdk.java.net/jeps/254](https://openjdk.java.net/jeps/254)Â ã€‚

